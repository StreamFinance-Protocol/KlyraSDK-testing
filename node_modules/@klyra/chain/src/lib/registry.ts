import { type GeneratedType, Registry } from "@cosmjs/proto-signing";
import { defaultRegistryTypes } from "@cosmjs/stargate";
import {
  MsgPlaceOrder,
  MsgCancelOrder,
  MsgCreateClobPair,
  MsgUpdateClobPair,
  MsgBatchCancel,
} from "@klyra/proto/src/codegen/klyraprotocol/clob/tx";
import {
  MsgWithdrawFromSubaccount,
  MsgDepositToSubaccount,
} from "@klyra/proto/src/codegen/klyraprotocol/sending/transfer";
import { MsgCreateTransfer } from "@klyra/proto/src/codegen/klyraprotocol/sending/tx";
import { Messages } from "../constants";

export const registry: readonly [string, GeneratedType][] = [];
export function generateRegistry(): Registry {
  return new Registry([
    // clob
    [Messages.PLACE_ORDER, MsgPlaceOrder as GeneratedType],
    [Messages.CANCEL_ORDER, MsgCancelOrder as GeneratedType],
    [Messages.BATCH_CANCEL, MsgBatchCancel as GeneratedType],
    [Messages.CREATE_CLOB_PAIR, MsgCreateClobPair as GeneratedType],
    [Messages.UPDATE_CLOB_PAIR, MsgUpdateClobPair as GeneratedType],

    // sending
    [Messages.CREATE_TRANSFER, MsgCreateTransfer as GeneratedType],
    [
      Messages.WITHDRAW_FROM_SUBACCOUNT,
      MsgWithdrawFromSubaccount as GeneratedType,
    ],
    [Messages.DEPOSIT_TO_SUBACCOUNT, MsgDepositToSubaccount as GeneratedType],

    // default types
    ...defaultRegistryTypes,
  ]);
}
