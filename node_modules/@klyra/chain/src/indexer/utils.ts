import RestClient from "../lib/rest-client";

export default class UtilityClient extends RestClient {
  /**
   * @description Get the current time
   *
   * @returns The current time in ISO format and epoch
   */
  async getTime(): Promise<{ iso: string; epoch: number }> {
    return this.get("/v4/time");
  }

  /**
   * @description Get the current height in the chain
   *
   * @returns The current height and time
   */
  async getHeight(): Promise<{ height: string; time: string }> {
    return this.get("/v4/height");
  }

  /**
   * @description Check if an address is restricted
   *
   * @param address The address to check
   * @returns Whether the address is restricted and the reason
   */
  async screen(
    address: string
  ): Promise<{ restricted: boolean; reason?: string }> {
    return this.get("/v4/screen", { address });
  }
}
