import { type IndexerClientConfig } from "../types";
import AccountClient from "./account";
import MarketsClient from "./markets";
import UtilsClient from "./utils";

export default class IndexerClient {
  public readonly config: IndexerClientConfig;
  private _account: AccountClient;
  private _markets: MarketsClient;
  private _utils: UtilsClient;

  constructor(config: IndexerClientConfig) {
    this.config = config;

    this._account = new AccountClient(config.urls.rest);
    this._markets = new MarketsClient(config.urls.rest);
    this._utils = new UtilsClient(config.urls.rest);
  }

  get markets(): MarketsClient {
    return this._markets;
  }

  get account(): AccountClient {
    return this._account;
  }

  get utils(): UtilsClient {
    return this._utils;
  }
}
