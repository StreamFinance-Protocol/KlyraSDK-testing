"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.LCDQueryClient = void 0;
const helpers_1 = require("../../helpers");
class LCDQueryClient {
    constructor({ requestClient }) {
        this.req = requestClient;
        this.subaccount = this.subaccount.bind(this);
        this.subaccountAll = this.subaccountAll.bind(this);
        this.getWithdrawalAndTransfersBlockedInfo = this.getWithdrawalAndTransfersBlockedInfo.bind(this);
        this.collateralPoolAddress = this.collateralPoolAddress.bind(this);
    }
    /* Queries a Subaccount by id */
    async subaccount(params) {
        const endpoint = `klyraprotocol/subaccounts/subaccount/${params.owner}/${params.number}`;
        return await this.req.get(endpoint);
    }
    /* Queries a list of Subaccount items. */
    async subaccountAll(params = {
        pagination: undefined
    }) {
        const options = {
            params: {}
        };
        if (typeof (params === null || params === void 0 ? void 0 : params.pagination) !== "undefined") {
            (0, helpers_1.setPaginationParams)(options, params.pagination);
        }
        const endpoint = `klyraprotocol/subaccounts/subaccount`;
        return await this.req.get(endpoint, options);
    }
    /* Queries information about whether withdrawal and transfers are blocked, and
     if so which block they are re-enabled on. */
    async getWithdrawalAndTransfersBlockedInfo(params) {
        const endpoint = `klyraprotocol/subaccounts/withdrawals_and_transfers_blocked_info/${params.perpetualId}`;
        return await this.req.get(endpoint);
    }
    /* Queries the collateral pool account address for a perpetual id. */
    async collateralPoolAddress(params) {
        const endpoint = `klyraprotocol/subaccounts/collateral_pool_address/${params.perpetualId}`;
        return await this.req.get(endpoint);
    }
}
exports.LCDQueryClient = LCDQueryClient;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXVlcnkubGNkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BrbHlyYS9wcm90by9zcmMvY29kZWdlbi9rbHlyYXByb3RvY29sL3N1YmFjY291bnRzL3F1ZXJ5LmxjZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSwyQ0FBb0Q7QUFHcEQsTUFBYSxjQUFjO0lBR3pCLFlBQVksRUFDVixhQUFhLEVBR2Q7UUFDQyxJQUFJLENBQUMsR0FBRyxHQUFHLGFBQWEsQ0FBQztRQUN6QixJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzdDLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbkQsSUFBSSxDQUFDLG9DQUFvQyxHQUFHLElBQUksQ0FBQyxvQ0FBb0MsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakcsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDckUsQ0FBQztJQUNELGdDQUFnQztJQUdoQyxLQUFLLENBQUMsVUFBVSxDQUFDLE1BQWlDO1FBQ2hELE1BQU0sUUFBUSxHQUFHLHdDQUF3QyxNQUFNLENBQUMsS0FBSyxJQUFJLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUN6RixPQUFPLE1BQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQWlDLFFBQVEsQ0FBQyxDQUFDO0lBQ3RFLENBQUM7SUFDRCx5Q0FBeUM7SUFHekMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxTQUFvQztRQUN0RCxVQUFVLEVBQUUsU0FBUztLQUN0QjtRQUNDLE1BQU0sT0FBTyxHQUFRO1lBQ25CLE1BQU0sRUFBRSxFQUFFO1NBQ1gsQ0FBQztRQUVGLElBQUksT0FBTyxDQUFBLE1BQU0sYUFBTixNQUFNLHVCQUFOLE1BQU0sQ0FBRSxVQUFVLENBQUEsS0FBSyxXQUFXLEVBQUUsQ0FBQztZQUM5QyxJQUFBLDZCQUFtQixFQUFDLE9BQU8sRUFBRSxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDbEQsQ0FBQztRQUVELE1BQU0sUUFBUSxHQUFHLHNDQUFzQyxDQUFDO1FBQ3hELE9BQU8sTUFBTSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBb0MsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQ2xGLENBQUM7SUFDRDtpREFDNkM7SUFHN0MsS0FBSyxDQUFDLG9DQUFvQyxDQUFDLE1BQXdEO1FBQ2pHLE1BQU0sUUFBUSxHQUFHLG9FQUFvRSxNQUFNLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDMUcsT0FBTyxNQUFNLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUEyRCxRQUFRLENBQUMsQ0FBQztJQUNoRyxDQUFDO0lBQ0QscUVBQXFFO0lBR3JFLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxNQUF5QztRQUNuRSxNQUFNLFFBQVEsR0FBRyxxREFBcUQsTUFBTSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQzNGLE9BQU8sTUFBTSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBNEMsUUFBUSxDQUFDLENBQUM7SUFDakYsQ0FBQztDQUVGO0FBdERELHdDQXNEQyJ9