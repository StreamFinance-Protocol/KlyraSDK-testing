"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const axios_1 = __importDefault(require("axios"));
const constants_1 = require("../constants");
const request_1 = require("../utils/request");
class RestClient {
    constructor(host, apiTimeout) {
        if (host.endsWith("/")) {
            this.host = host.slice(0, -1);
        }
        else {
            this.host = host;
        }
        this.apiTimeout = apiTimeout !== null && apiTimeout !== void 0 ? apiTimeout : constants_1.DEFAULT_API_TIMEOUT;
    }
    // TODO: create custom axios instance for better customization+
    async get(requestPath, params = {}) {
        const url = `${this.host}${(0, request_1.generateQueryPath)(requestPath, params)}`;
        const response = await axios_1.default.get(url);
        return response.data;
    }
    async post(requestPath, params = {}, body, headers = {}) {
        const url = `${this.host}${(0, request_1.generateQueryPath)(requestPath, params)}`;
        return axios_1.default.post(url, body, headers);
    }
}
exports.default = RestClient;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVzdC1jbGllbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbGliL3Jlc3QtY2xpZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsa0RBQTBCO0FBQzFCLDRDQUFtRDtBQUNuRCw4Q0FBcUQ7QUFFckQsTUFBcUIsVUFBVTtJQUk3QixZQUFZLElBQVksRUFBRSxVQUEwQjtRQUNsRCxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztZQUN2QixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEMsQ0FBQzthQUFNLENBQUM7WUFDTixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNuQixDQUFDO1FBQ0QsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLGFBQVYsVUFBVSxjQUFWLFVBQVUsR0FBSSwrQkFBbUIsQ0FBQztJQUN0RCxDQUFDO0lBRUQsK0RBQStEO0lBQy9ELEtBQUssQ0FBQyxHQUFHLENBQ1AsV0FBbUIsRUFDbkIsU0FBa0MsRUFBRTtRQUVwQyxNQUFNLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBQSwyQkFBaUIsRUFBQyxXQUFXLEVBQUUsTUFBTSxDQUFDLEVBQUUsQ0FBQztRQUNwRSxNQUFNLFFBQVEsR0FBRyxNQUFNLGVBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdEMsT0FBTyxRQUFRLENBQUMsSUFBUyxDQUFDO0lBQzVCLENBQUM7SUFFRCxLQUFLLENBQUMsSUFBSSxDQUNSLFdBQW1CLEVBQ25CLFNBQWtDLEVBQUUsRUFDcEMsSUFBYyxFQUNkLFVBQW1DLEVBQUU7UUFFckMsTUFBTSxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUEsMkJBQWlCLEVBQUMsV0FBVyxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUM7UUFDcEUsT0FBTyxlQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDeEMsQ0FBQztDQUNGO0FBaENELDZCQWdDQyJ9