"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SubaccountInfo = exports.WalletSubaccountInfo = void 0;
const shared_1 = require("@klyra/shared");
/**
 * @description A class that contains a wallet and a subaccount number
 * It's used to execute transactions on behalf of a subaccount
 */
class WalletSubaccountInfo {
    constructor(wallet, subaccountNumber = 0) {
        if (subaccountNumber < 0 || subaccountNumber > shared_1.MAX_SUBACCOUNT_NUMBER) {
            throw new Error(`Subaccount number must be between 0 and ${shared_1.MAX_SUBACCOUNT_NUMBER}`);
        }
        this.wallet = wallet;
        this.subaccountNumber = subaccountNumber;
    }
    get address() {
        const address = this.wallet.getAddress();
        if (address.length > 0) {
            return address;
        }
        throw new Error("Address not set");
    }
}
exports.WalletSubaccountInfo = WalletSubaccountInfo;
/**
 * @description A class that contains a subaccount number and an address
 * It's used to identify a subaccount, even when the wallet is not available
 *
 * With this class you can get the address of the subaccount, but you cannot sign transactions
 */
class SubaccountInfo {
    constructor(address, subaccountNumber = 0) {
        if (subaccountNumber < 0 || subaccountNumber > shared_1.MAX_SUBACCOUNT_NUMBER) {
            throw new Error(`Subaccount number must be between 0 and ${shared_1.MAX_SUBACCOUNT_NUMBER}`);
        }
        this.subaccountNumber = subaccountNumber;
        this.address = address;
    }
}
exports.SubaccountInfo = SubaccountInfo;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3ViYWNjb3VudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9saWIvc3ViYWNjb3VudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSwwQ0FBc0Q7QUFHdEQ7OztHQUdHO0FBQ0gsTUFBYSxvQkFBb0I7SUFJL0IsWUFBWSxNQUFtQixFQUFFLGdCQUFnQixHQUFHLENBQUM7UUFDbkQsSUFBSSxnQkFBZ0IsR0FBRyxDQUFDLElBQUksZ0JBQWdCLEdBQUcsOEJBQXFCLEVBQUUsQ0FBQztZQUNyRSxNQUFNLElBQUksS0FBSyxDQUNiLDJDQUEyQyw4QkFBcUIsRUFBRSxDQUNuRSxDQUFDO1FBQ0osQ0FBQztRQUNELElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxnQkFBZ0IsQ0FBQztJQUMzQyxDQUFDO0lBRUQsSUFBSSxPQUFPO1FBQ1QsTUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUN6QyxJQUFJLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUM7WUFDdkIsT0FBTyxPQUFPLENBQUM7UUFDakIsQ0FBQztRQUNELE1BQU0sSUFBSSxLQUFLLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUNyQyxDQUFDO0NBQ0Y7QUFyQkQsb0RBcUJDO0FBRUQ7Ozs7O0dBS0c7QUFDSCxNQUFhLGNBQWM7SUFJekIsWUFBWSxPQUFlLEVBQUUsZ0JBQWdCLEdBQUcsQ0FBQztRQUMvQyxJQUFJLGdCQUFnQixHQUFHLENBQUMsSUFBSSxnQkFBZ0IsR0FBRyw4QkFBcUIsRUFBRSxDQUFDO1lBQ3JFLE1BQU0sSUFBSSxLQUFLLENBQ2IsMkNBQTJDLDhCQUFxQixFQUFFLENBQ25FLENBQUM7UUFDSixDQUFDO1FBRUQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLGdCQUFnQixDQUFDO1FBQ3pDLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBQ3pCLENBQUM7Q0FDRjtBQWRELHdDQWNDIn0=