import { type WebSocketMessage } from "../websocket";

export enum IndexerCandleResolution {
  ONE_MINUTE = "1MIN",
  FIVE_MINUTES = "5MINS",
  FIFTEEN_MINUTES = "15MINS",
  THIRTY_MINUTES = "30MINS",
  ONE_HOUR = "1HOUR",
  FOUR_HOURS = "4HOURS",
  ONE_DAY = "1DAY",
}

export interface IndexerCandleContents {
  startedAt: string;
  resolution: IndexerCandleResolution;
  ticker: string;
  low: string;
  high: string;
  open: string;
  close: string;
  baseTokenVolume: string;
  usdVolume: string;
  trades: number;
  startingOpenInterest: string;
  orderbookMidPriceOpen: string;
  orderbookMidPriceClose: string;
}

export type IndexerCandlesBatchUpdateMessage = WebSocketMessage<
  IndexerCandleContents[]
>;

export type IndexerCandlesSubscribedMessage = WebSocketMessage<{
  candles: IndexerCandleContents[];
}>;
